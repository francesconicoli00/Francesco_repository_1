---
categories:  
- ""    #the front matter should be like the one found in, e.g., blog2.md. It cannot be like the normal Rmd we used
- ""
date: "2022-09-18"
description: Explore the content of my undergraduate thesis # the title that will show up once someone gets to this page
draft: false
image: thesis_banner.png

keywords: ""
slug: thesis_project # slug is the shorthand URL address... no spaces plz
title: Final undergraduate thesis
---



<p>The goal of the thesis is to prove that it is possible to apply the <strong>control chart</strong>, one of the most significant statistical tools, to the <strong>analysis of variances</strong>, which is one of the most important steps of the broader <em>budget analysis</em>.</p>
<p>The <em>first question</em> I attempted to answer is whether it is <strong>statistically possible</strong> to use the model in its traditional setting to analyse the budget variances. IN order to answer this question, I used <em>data visualization</em> tools and <em>statistical tests</em> to actually prove that the assumptions of the control chart were found to be verified. Of course, I used <strong>empirical evidences</strong> to do so thanks to a company that provided me with the necessary data.</p>
<p>Secondly, I tried to prove that it was actually <strong>beneficial</strong> and <strong>convenient</strong> for the organization to use a tool such this to check the stability of both the budgeting process and the most significant budget values. In order to do so, I listed the <strong>costs</strong> to build and use such a model and the <strong>benefits</strong> that could arise from the sound use of it.</p>
<p>Finally, I gathered a handful of <em>tips</em> and <em>directions</em> for the reader, since the data used to prove the <em>feasibility</em> of the application of the model were gathered by a single company. Hence, given that <strong>different scenarios</strong> and company’s characteristics may definitely affect the application and use of the tool, the analyst has to be <em>warn</em> about the implications of applying the model to different cases.</p>
<div id="data-manipulation" class="section level2">
<h2>Data manipulation</h2>
<div id="exploring-data" class="section level3">
<h3>Exploring Data</h3>
<p>First, it is important to have sense of the data we are dealing with, so let’s produce a glimpse of the data set.</p>
<pre class="r"><code>glimpse(sata_database)</code></pre>
<pre><code>## Rows: 26
## Columns: 11
## $ `CE SATA - Riservato` &lt;chr&gt; &quot;Ricavi di competenza&quot;, &quot;Ricavi da consulenza&quot;, …
## $ `2017`                &lt;dbl&gt; 4392.82, 1916.59, 2476.23, 2576.94, 873.74, 221.…
## $ ...3                  &lt;dbl&gt; 4392.8, 1916.6, 2476.2, 2660.7, 925.3, 296.1, 41…
## $ `2018`                &lt;dbl&gt; 5124.97, 2362.79, 2762.19, 3037.98, 1100.12, 270…
## $ ...5                  &lt;dbl&gt; 5125.0, 2362.8, 2762.2, 2998.1, 1078.9, 270.7, 5…
## $ `2019`                &lt;dbl&gt; 5480.7, 2715.2, 2765.5, 3389.5, 1151.4, 377.5, 2…
## $ ...7                  &lt;dbl&gt; 5480.72, 2715.18, 2765.54, 3213.39, 1099.88, 299…
## $ `2020`                &lt;dbl&gt; 5732.88, 2720.18, 3012.71, 3548.41, 1072.43, 268…
## $ ...9                  &lt;dbl&gt; 5732.9, 2720.2, 3012.7, 3485.9, 1201.4, 327.6, 2…
## $ `2021`                &lt;dbl&gt; 6.85e+03, 3.62e+03, 3.23e+03, 4.28e+03, 1.45e+03…
## $ ...11                 &lt;dbl&gt; 6848.3, 3616.3, 3232.0, 4202.5, 1406.6, 406.9, 2…</code></pre>
<pre class="r"><code>skim(select(sata_database,2:11))</code></pre>
<table>
<caption>(#tab:glimpse_database)Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">select(sata_database, 2:1…</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">26</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">10</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">10</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<colgroup>
<col width="17%" />
<col width="12%" />
<col width="17%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="7%" />
<col width="5%" />
<col width="6%" />
<col width="6%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2017</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">770</td>
<td align="right">1082</td>
<td align="right">3.28</td>
<td align="right">73.4</td>
<td align="right">182</td>
<td align="right">1134</td>
<td align="right">4393</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="even">
<td align="left">…3</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">765</td>
<td align="right">1087</td>
<td align="right">0.00</td>
<td align="right">73.0</td>
<td align="right">174</td>
<td align="right">1158</td>
<td align="right">4393</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">2018</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">898</td>
<td align="right">1255</td>
<td align="right">2.83</td>
<td align="right">89.5</td>
<td align="right">262</td>
<td align="right">1280</td>
<td align="right">5125</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="even">
<td align="left">…5</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">895</td>
<td align="right">1258</td>
<td align="right">2.00</td>
<td align="right">82.4</td>
<td align="right">230</td>
<td align="right">1310</td>
<td align="right">5125</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">2019</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">952</td>
<td align="right">1343</td>
<td align="right">0.00</td>
<td align="right">93.0</td>
<td align="right">254</td>
<td align="right">1318</td>
<td align="right">5481</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">…7</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">958</td>
<td align="right">1341</td>
<td align="right">1.43</td>
<td align="right">102.5</td>
<td align="right">250</td>
<td align="right">1380</td>
<td align="right">5481</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">2020</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1000</td>
<td align="right">1424</td>
<td align="right">1.15</td>
<td align="right">96.3</td>
<td align="right">268</td>
<td align="right">1498</td>
<td align="right">5733</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">…9</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">996</td>
<td align="right">1408</td>
<td align="right">0.00</td>
<td align="right">100.8</td>
<td align="right">246</td>
<td align="right">1412</td>
<td align="right">5733</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">2021</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1193</td>
<td align="right">1700</td>
<td align="right">0.00</td>
<td align="right">69.7</td>
<td align="right">348</td>
<td align="right">1851</td>
<td align="right">6848</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td align="left">…11</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1190</td>
<td align="right">1683</td>
<td align="right">0.00</td>
<td align="right">107.9</td>
<td align="right">300</td>
<td align="right">1672</td>
<td align="right">6848</td>
<td align="left">▇▂▁▁▁</td>
</tr>
</tbody>
</table>
<p>In the database, we have both the <em>budget</em> and the <em>final account</em> for the income statement of all the years between 2017 and 2021 inclusive. Also, all the data are expressed in thousands of euros.</p>
</div>
<div id="data-investigation-proving-the-assumptions-verified" class="section level3">
<h3>Data Investigation: proving the assumptions verified</h3>
<p>The first step was to investigate about the shape of the <strong>distribution</strong> of the variances over the 5 years. Hence, we needed to create another variable, which is the variance expressed as a <em>percentage</em> of the budget value.</p>
<pre class="r"><code># Tweaking column names
colnames(sata_database) &lt;- c(&quot;Income_statement_voices&quot;,&quot;Final_2017&quot;,&quot;Budget_2017&quot;,&quot;Final_2018&quot;,&quot;Budget_2018&quot;,&quot;Final_2019&quot;,&quot;Budget_2019&quot;,&quot;Final_2020&quot;,&quot;Budget_2020&quot;,&quot;Final_2021&quot;,&quot;Budget_2021&quot;)

# Creating dataset to use
data_to_use &lt;- sata_database %&gt;%
  mutate(Variance_2017 = (Final_2017-Budget_2017)/Budget_2017,Variance_2018 = (Final_2018-Budget_2018)/Budget_2018,Variance_2019 = (Final_2019-Budget_2019)/Budget_2019,Variance_2020 = (Final_2020-Budget_2020)/Budget_2020,Variance_2021 = (Final_2021-Budget_2021)/Budget_2021) %&gt;% 
  select(1,12:16) %&gt;%
# Getting rid of useless values
  filter(Variance_2017!=0&amp;!is.infinite(Variance_2017))

#Plotting the distribution of all the variances
data_to_plot &lt;- data_to_use %&gt;%
  pivot_longer(2:6,names_to=&quot;Variance_year&quot;,values_to=&quot;Variance_percentage&quot;)

ggplot(data_to_plot, aes(x=Variance_percentage)) + geom_density()</code></pre>
<p><img src="/blogs/thesis_project_files/figure-html/plot_variance_distribution-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>In the graph above, we can easily notice how the distribution of the variances is approximately a <strong>normal distribution</strong>, around the value we assumed is the mean of the “process”, that is 0. In fact, a 0 corresponds to the absence of variance, namely the final voice is equal to the voice predicted in the budget.</p>
<p>After this step, I decided to integrate the research of the distribution with another plot - the qq-plot- so that I could more strongly support my conclusion that the distribution of this variable is approximately normal, regardless of the size of the sample. This plot would give me a more precise picture of the actual differences between the distribution of the variances and a perfectly normal distribution.</p>
<pre class="r"><code>ggplot(data_to_plot, aes(sample=Variance_percentage)) + stat_qq()</code></pre>
<p><img src="/blogs/thesis_project_files/figure-html/qqplot-1.png" width="648" style="display: block; margin: auto;" /></p>
<p>Glancing at the qq-plot produced, it is possible to notice how the <strong>upper outliers</strong> are the only elements that prevent the distribution to be a normal distribution: the presence of those values tweaks the <strong>inclination</strong> of the trend line and makes the line appear as not on the <em>x=y</em> line, the line corresponding to a perfect normal distribution. This because one of the assumptions of the control chart is the absence of outliers.</p>
<p>Therefore, I decided to add a <strong>tweak</strong> to the traditional process of managing data when building a control chart: it is possible for the analyst to <em>take off</em> the sample those values that can be classified as outliers if and only if the “weight” of the income statement voice is <em>negligible</em>.</p>
</div>
</div>
<div id="conclusions-model-setup" class="section level2">
<h2>Conclusions &amp; model setup</h2>
<p>After proving the use of the model in this field possible, we decided to finally build the <strong>control chart</strong> of the sample we analysed to verify the assumptions of the model.</p>
<pre class="r"><code>knitr::include_graphics(&quot;/img/chart_thesis.png&quot;,error=FALSE)</code></pre>
<p><img src="../../../../../../../../img/chart_thesis.png" width="60%" style="display: block; margin: auto;" /></p>
<p>After the final result, I was proud to announce the <em>feasibility</em> to apply the control chart to the analysis of variances. Thanks to this project, I had the chance to perform many <em>hands-on tasks</em> that made me feel my passion for data even more, besides having the chance of producing innovative research in the data analytics field.</p>
</div>
